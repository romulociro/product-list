<div class="grid">
	<div class="col-12">
		<p-card
		styleClass="shadow-3 m-5 text-indigo-8000"
		header="Produtos"
		>
			<p-table
			#productsTable
			[value]="products"
			[rows]="10"
			[paginator]="true"
			[responsive]="true"
			[globalFilterFields]="['name', 'supplier']"
			[tableStyle]="{'min-width': '75rem'}"
			[(selection)]="productsSelected"
			[rowHover]="true"
			[showCurrentPageReport]="true"
			dataKey="id"
			currentPageReportTemplate="Mostrando {first} de {last} de {totalRecords} produtos"
			>
			<ng-template pTemplate="header">
				<tr>
					<th pSortableColumn="name">
						<div class="flex justify-content-between align-items-center">
							<div class="flex justify-content-between align-items-center">
								Nome
							</div>
							<div class="flex justify-content-between align-items-center">
								<p-sortIcon field="name"></p-sortIcon>
								<p-columnFilter
									type="text"
									field="name"
									display="menu"
									matchMode="contains"
									[showMatchModes]="false"
									[showOperator]="false"
									[showAddButton]="false"
								></p-columnFilter>
							</div>
						</div>
					</th>

					<th pSortableColumn="supplier">
						<div class="flex justify-content-between align-items-center">
							<div class="flex justify-content-between align-items-center">
								Fornecedor
							</div>
							<div class="flex justify-content-between align-items-center">
								<p-sortIcon field="supplier"></p-sortIcon>
								<p-columnFilter
									type="text"
									field="supplier"
									display="menu"
									matchMode="contains"
									[showMatchModes]="false"
									[showOperator]="false"
									[showAddButton]="false"
								></p-columnFilter>
							</div>
						</div>
					</th>

					<th pSortableColumn="price">
						<div class="flex justify-content-between align-items-center">
							<div class="flex justify-content-between align-items-center">
								Pre√ßo
							</div>
							<div class="flex justify-content-between align-items-center">
								<p-sortIcon field="price"></p-sortIcon>
								<p-columnFilter
									type="text"
									field="price"
									display="menu"
									matchMode="contains"
									[showMatchModes]="false"
									[showOperator]="false"
									[showAddButton]="false"
								></p-columnFilter>
							</div>
						</div>
					</th>

					<th>
						<div class="flex justify-content-center">
							<p-button
								styleClass="p-button-info"
								icon="pi pi-plus"
								label="Cadastrar"
								pTooltip="Cadastrar produto"
								tooltipPosition="top"
								(onClick)="handleProductEvent(addProductEvent)"
							></p-button>

						</div>
					</th>

				</tr>
			</ng-template>

			<ng-template pTemplate="body" let-product>
				<tr>
					<td>{{product?.name}}</td>
					<td>{{product?.supplier}}</td>
					<td>{{product?.price | currency:'BRL'}}</td>
					<td>
						<div class="flex justify-content-center gap-3 align-content-center align-items-center">
							<button
							pButton
							pRipple
							icon="pi pi-pencil"
							class="p-button-rounded p-button-warning"
							pTooltip="Editar produto"
							tooltipPosition="top"
							(click)="handleProductEvent(editProductEvent, product?.id)"
							></button>
							<button
							pButton
							pRipple
							icon="pi pi-trash"
							class="p-button-rounded p-button-danger"
							pTooltip="Remover produto"
							tooltipPosition="top"
							(click)="handleDeleteProduct(product?.id, product?.name)"
							></button>
						</div>
					</td>
				</tr>
			</ng-template>	
		</p-table>
		</p-card>
	</div>
</div>
